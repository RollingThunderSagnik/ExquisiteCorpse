{"ast":null,"code":"import _defineProperty from\"/home/sagnikg/AAO Website/Exquisite Corpse/corpse/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/sagnikg/AAO Website/Exquisite Corpse/corpse/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/sagnikg/AAO Website/Exquisite Corpse/corpse/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/sagnikg/AAO Website/Exquisite Corpse/corpse/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/sagnikg/AAO Website/Exquisite Corpse/corpse/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/sagnikg/AAO Website/Exquisite Corpse/corpse/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{isMobile}from'react-device-detect';import{socket}from'../socket';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Player=/*#__PURE__*/function(_Component){_inherits(Player,_Component);var _super=_createSuper(Player);function Player(props){var _this;_classCallCheck(this,Player);_this=_super.call(this,props);_this.state={username:_this.props.username,name:_this.props.name,active:_this.props.active// userActive: false,\n};_this.send=_this.send.bind(_assertThisInitialized(_this));// this.modalFn = this.props.modalFn;\nreturn _this;}_createClass(Player,[{key:\"send\",value:function send(event){if(this.state.username==this.state.active){var sendTo=new CustomEvent('sendTo',{detail:this.state.name});window.dispatchEvent(sendTo);if(this.props.modalFn){this.props.modalFn();}}event.preventDefault();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.name!==prevProps.name){this.setState({name:this.props.name});}if(this.props.active!==prevProps.active){this.setState({active:this.props.active});}}},{key:\"render\",value:function render(){var isActive=this.state.username==this.state.active;// console.log(this.state.name==this.state.active,this.state.name,this.state.active, isActive)\nvar activePlayer=this.state.name==this.state.active;var greenSignal=/*#__PURE__*/_jsx(\"div\",{style:{width:\"0.8em\",height:\"0.8em\",background:\"#21c54a\",borderRadius:\"100%\"// float: \"right\"\n}});return/*#__PURE__*/_jsxs(\"div\",{className:isActive?'player':'',style:{padding:'1em',cursor:isActive?'pointer':'auto',transition:'all 0.1s ease-in',display:\"flex\",flexDirection:\"row\",alignItems:\"center\"// justifyContent: \"center\"\n},onClick:this.send,children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,color:isActive?'#fff':'#aaa'},children:this.state.name}),activePlayer?greenSignal:/*#__PURE__*/_jsx(_Fragment,{})]});}}]);return Player;}(Component);var Players=/*#__PURE__*/function(_Component2){_inherits(Players,_Component2);var _super2=_createSuper(Players);function Players(props){var _this2;_classCallCheck(this,Players);_this2=_super2.call(this,props);_this2.state={username:_this2.props.username,playerNames:['Sagnik','Jagori'],// userActive: 'Sagnik',\nmodal:false};_this2.toggleModal=_this2.toggleModal.bind(_assertThisInitialized(_this2));return _this2;}_createClass(Players,[{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;// console.log(this.state.username);\nsocket.emit(\"getPlayersInfo\");socket.on(\"playersInfo\",function(info){var names=info.filter(function(name){return name!=_this3.state.username;});_this3.setState({playerNames:names});});socket.on(\"receiveActive\",function(name){_this3.setState({userActive:name});});}},{key:\"toggleModal\",value:function toggleModal(){this.setState({modal:!this.state.modal});}},{key:\"render\",value:function render(){var _ref,_this4=this;var mobileRender=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:(_ref={background:this.state.modal?\"var(--bg3)\":\"var(--bg2)\",display:\"flex\",flexDirection:\"column\",position:\"absolute\",height:\"2.5em\",width:\"5em\"},_defineProperty(_ref,\"display\",\"flex\"),_defineProperty(_ref,\"justifyContent\",\"center\"),_defineProperty(_ref,\"alignItems\",\"center\"),_defineProperty(_ref,\"top\",\"1em\"),_defineProperty(_ref,\"right\",\"1em\"),_defineProperty(_ref,\"borderRadius\",\"0.5em\"),_defineProperty(_ref,\"fontSize\",\"1em\"),_defineProperty(_ref,\"lineHeight\",\"2.5em\"),_defineProperty(_ref,\"margin\",\"0em 0.8em\"),_ref),onClick:this.toggleModal,children:this.state.modal?\"Close\":\"Send To\"}),this.state.modal?/*#__PURE__*/_jsx(\"div\",{style:{background:\"var(--bg0)\",display:\"flex\",flexDirection:\"column\",minWidth:\"10vw\",position:\"absolute\",width:\"50%\",top:\"50%\",left:\"50%\",transform:\"translate(-50%,-50%)\"},children:this.state.playerNames.map(function(name,i){return/*#__PURE__*/_jsx(Player,{active:_this4.state.userActive,username:_this4.state.username,name:name,modalFn:_this4.toggleModal},i);})}):/*#__PURE__*/_jsx(_Fragment,{})]});var pcRender=/*#__PURE__*/_jsx(\"div\",{style:{background:\"var(--bg0)\",display:\"flex\",flexDirection:\"column\",minWidth:\"10vw\"},children:this.state.playerNames.map(function(name,i){return/*#__PURE__*/_jsx(Player,{active:_this4.state.userActive,username:_this4.state.username,name:name},i);})});return isMobile?mobileRender:pcRender;}}]);return Players;}(Component);export default Players;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}